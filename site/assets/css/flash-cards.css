.fc-layout {
    display: grid;
    grid-template-columns: 350px 1fr;
    gap: 20px;
}

.fc-lista {
    border: 1px solid #eee;
    max-height: 300px;
    overflow-y: auto;
    background: #fafafa;
    border-radius: 8px;
    padding: 10px;
}

.fc-item-lista {
    padding: 10px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
    font-size: 0.9rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.flip-card-container {
    perspective: 1000px;
    height: 350px;
    margin: 20px auto;
    max-width: 280px;
    cursor: pointer;
}

.flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: left;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    box-shadow: 2px 4px 5px rgba(0, 0, 0, 0.4);
    position: relative;
}

.alfinetes{
    width: 65px;
    height: 75px;
    position: absolute;
    top: -12%; left: 40%; right: 40%;
    z-index: 10;
    background-image: url(../img/alfinetes.png);
    background-repeat: no-repeat;
    background-size: 100% auto;
    filter: drop-shadow(1px 3px 5px rgba(0,0,0,0.3));
    backface-visibility: hidden; 
    -webkit-backface-visibility: hidden;
}

.fc-tag{
    background-color: var(--primary);
    color: #fff;
    font-size: 0.9em;
    padding: 10px 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: bold;
    text-align: center;
    width: 100%;
    flex-shrink: 0; /* Impede que o cabeçalho encolha demais */
    border-bottom: 3px solid #f1c40f;
}

.fc-front-content{
    flex-grow: 1;
    display: flex;
    align-items: center;      /* Centraliza o texto verticalmente */
    justify-content: center;  /* Centraliza horizontalmente */
    padding: 20px;            /* Espaço para o texto respirar */
    font-size: 1.1rem;        /* Fonte legível */
    text-align: center;
    color: #333;
    line-height: 1.5;
}

.fc-card-wrapper.virado .flip-card-inner{
    transform: rotateY(180deg);
}

.flip-card-front,
.flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    box-sizing: border-box;
    font-size: 1.2rem;
    overflow: hidden;
}

.flip-card-front {
    background-color: #fff;
    color: #333;
    border: 2px solid #eee;
}

.flip-card-back {
    background-color: var(--sec);
    color: white;
    transform: rotateY(180deg);
    border: 2px solid var(--sec);
}

.fc-botoes-resposta {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 20px;
    opacity: 0;
    pointer-events: none;
    transition: 0.3s;
}

.fc-botoes-resposta.visivel {
    opacity: 1;
    pointer-events: all;
}


/* Garante que listas dentro dos enunciados/respostas fiquem alinhadas */
.render-html ul, .render-html ol,
.enunciado ul, .enunciado ol,
.texto-apoio-content ul, .texto-apoio-content ol {
    margin-block-start: 0;
    margin-block-end: 0;
    padding-inline-start: 0;
    unicode-bidi: isolate;
}

/* --- MODO GRADE (GRID) --- */

.fc-grid-container {
    display: grid;
    /* Cria colunas automáticas com no mínimo 300px cada. 
       Em telas full HD, isso garante 3 ou 4 por linha. */
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 100px; /* Espaço entre os cartões */
    padding: 20px;
    justify-content: center;
}

/* Ajuste no container do cartão para o Grid */
.fc-card-wrapper {
    /* Altura fixa para garantir uniformidade na grade */
    height: 350px; 
    perspective: 1000px;
}

/* Esconde os botões globais no modo grid (vamos usar botões internos) */
.ocultar-botoes-globais {
    display: none !important;
}

/* Estiliza os botões internos (no verso do cartão) */
.fc-botoes-internos {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 15px;
    padding-top: 10px;
    border-top: 1px solid #eee;
}

.fc-botoes-internos button {
    font-size: 0.9em;
    padding: 5px 15px;
}

/* Remove margens padrão e ajusta recuo da lista nos cartões */
.flip-card-front ul,
.flip-card-back ul {
    margin: 5px 0;          /* Reduz margem vertical drástica de 1em para 5px */
    padding-left: 20px;     /* Reduz o recuo lateral de 40px para 20px */
    text-align: left;       /* Garante que a lista fique alinhada à esquerda */
    line-height: 1.3;       /* Ajusta a altura da linha para ficar mais compacto */
}

/* Ajusta o espaçamento entre cada item da lista */
.flip-card-front li,
.flip-card-back li {
    margin-bottom: 4px;     /* Espaço controlado entre bolinhas */
}

/* O TRUQUE DE MESTRE:
   Remove o efeito dos <br> que o seu JavaScript gerou dentro da lista.
   Isso elimina o espaço duplo sem precisar mexer no JS. */
.flip-card-front ul br,
.flip-card-back ul br {
    display: none;
}